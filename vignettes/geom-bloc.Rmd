---
title: "geom-block"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(tidyverse)
library(grid)
library(ggmosaic)
data(cancer)
happy <- data(happy)
happy <- head(happy, n = 10)
```

# height <- P(A)

- Borrowed from ggmosaic

```{r}
ggplot(data = happy) + 
  geom_bloc(aes(width = P(health), fill = health))
```

# x <- A, height = P(A|B)

TODO: should it be

x <- A, width <- P(A), height <- P(A|B)

```{r}
ggplot(data = happy) + 
  geom_bloc(aes(width = P(health), fill = sex))
```


# x <- A, height <- P(A)

## continuous

- discrete: geom_bar (but can't call it yet)
- continuous: geom_histogram

```{r}
ggplot(data= cancer) + 
  geom_bloc(aes(x = test, 
              height = P(.), # height = P(test)
              fill = (test)))
```


## discrete

geom_bar under the hood

```{r}
ggplot(data= happy) + 
  geom_bloc(aes(x = discrete(sex), 
              height = P(.),
              fill = (sex)))
```

# x <- A, height <- P(B|A) 

```{r}
ggplot(data=happy) + 
  geom_bloc(aes(x = discrete(sex), height = P(.|happy)))
```


```{r}
ggplot(data= happy) + 
  geom_bar(aes(x = sex, y = (..count..)/sum(..count..), fill = happy))
```

