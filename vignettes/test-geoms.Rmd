---
title: "Testing new geoms"
author: "Vignette Author"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)


library(devtools)
library(riskyr)
library(rv2)
library(tidyverse)
library(ggplot2)
library(ggridges)
library(scales) 
```

# Extending ggplot tutorial


[link](https://cran.r-project.org/web/packages/ggplot2/vignettes/extending-ggplot2.html)

- stat
  - inherits from `Stat`
  - `compute_group`
  - `required_aes`
- layer thing, either called geom_ or stat_
  - calls `layer()`
  - The arguments in ... will either be arguments for the geom (if you’re making a stat wrapper), arguments for the stat (if you’re making a geom wrapper), or aesthetics to be set.

```{r}
ggplot(mpg, aes(displ, hwy)) + 
  # geom_point() + 
  stat_chull(fill = NA, colour = "black")
```



```{r}
ggplot(mpg, aes(displ, hwy, colour = drv)) + 
  geom_point() + 
  stat_chull(fill = NA)
```


```{r}
data(cancer)
```


# Testing area

Using fake stat_count

TODO: change the `count` thing somewhere so that it actually computes conditional probabilities


```{r}
ggplot(cancer, aes(x= cancer)) + 
  stat_fakecount()
```

